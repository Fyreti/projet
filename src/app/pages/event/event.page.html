<ion-header [translucent]="true">
  <ion-toolbar>

    <ion-buttons slot="start">
      <ion-menu-button></ion-menu-button>
    </ion-buttons>

    <ion-row>
      <ion-col class='title_page' >Evenements</ion-col>
      <ion-col class='add_button'>
        <ion-button class='font' *ngIf="(userApp.role | uppercase)==='MAIRIE'" (click)="goToEventForm()">Ajouter un évènement</ion-button>
      </ion-col>
    </ion-row>

  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true">
  <ion-header collapse="condense">
    <ion-toolbar>
    <ion-title class='title_page' >Evènements</ion-title>
      <ion-title size="large">Events</ion-title>
    </ion-toolbar>
  </ion-header>
  
  <ion-card *ngFor= "let event of allEvent">
    <ion-row id='mobile_version' *ngIf="(userApp.role | uppercase)==='MAIRIE'">

      <ion-col id='img_col'>
        <img class='img' src="{{event.photo}}" alt="Une possible photo" />
      </ion-col>

      <ion-col>
        <ion-card-header>
          <ion-card-title>{{event.name}}</ion-card-title>
        </ion-card-header>
        <ion-card-content>
          {{event.information}}
        </ion-card-content>
        <ion-card-content>
          Date de début : {{event.dateDebut}}
        </ion-card-content>
        <ion-card-content>
          Date de fin : {{event.dateFin}}
        </ion-card-content>
        <!--
        <ion-card-content>
          Date actuelle : {{currentDate.getDate()}}
        </ion-card-content>
        -->
        <ion-button id="delete_button" color="danger" *ngIf="(userApp.role | uppercase)==='MAIRIE'" (click)="deleteEvent(event.dateDebut, event.name)">Supprimer</ion-button>
      </ion-col>

    </ion-row>


    <ion-row id='mobile_version' *ngIf="displayEvent(event) && ((userApp.role | uppercase)!=='MAIRIE')">

      <ion-col id='img_col'>
        <img class='img' src="{{event.photo}}" alt="Une possible photo" />
      </ion-col>

      <ion-col>
        <ion-card-header>
          <ion-card-title>{{event.name}}</ion-card-title>
        </ion-card-header>
        <ion-card-content>
          {{event.information}}
        </ion-card-content>
        <ion-card-content>
          Date de début : {{event.dateDebut}}
        </ion-card-content>
        <ion-card-content>
          Date de fin : {{event.dateFin}}
        </ion-card-content>
        <ion-card-content>
          Date actuelle : {{currentDate.getDate()}}
        </ion-card-content>
        <ion-button id="delete_button" color="danger" *ngIf="(userApp.role | uppercase)==='MAIRIE'" (click)="deleteEvent(event.dateDebut, event.name)">Supprimer</ion-button>
      </ion-col>

    </ion-row>
    
  </ion-card>
</ion-content>
